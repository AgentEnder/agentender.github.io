import{j as ce,k as a,p,m as mt,b as d,s as yt,n as _t,q as U,r as E,t as I,u as v,v as Ie,d as O,w as Q,x as D,y as X,z as W,A as H,B as Ae,o as h,C as bt,D as je,a as vt,E as Ne,F as He,G as Pt,H as St,I as Y,J as wt,K as Rt,L as Ot,c as Ct,M as Le,N as xt,O as Be,P as kt,Q as j,R as Tt,S as Et,l as ie,T as fe,g as de,i as te,h as $t,U as Ft,V as It}from"../chunks/chunk-d1ef7cd1.js";import{_ as k}from"../chunks/chunk-101896b7.js";function $(e){return typeof e!="object"||e===null?!1:Object.getPrototypeOf(e)===null?!0:e.constructor.name==="Object"}function be(e){return"["+e.map(t=>"'"+t+"'").join(", ")+"]"}function ne(e,t){const n=Object.getOwnPropertyDescriptor(e,t);return!!n&&!("value"in n)&&!!n.get}function At(e){return typeof e=="object"&&e!==null&&"then"in e&&ce(e.then)}function jt(e){return[null,void 0].includes(e)?String(e):["boolean","number","string"].includes(typeof e)?JSON.stringify(e):null}function Nt(e){return e.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&")}function L(e,t,n){const r=Lt(e,t);if(r===null)return null;const{value:o,definedAt:i}=r;return n&&Ht(o,n,t,i),r}function Ht(e,t,n,r){a(e!==null);const o=typeof e;if(o===t)return;const i=jt(e),s=i!==null?`value ${p.cyan(i)}`:`type ${p.cyan(o)}`,u=`${mt("Config",n,{definedAt:r})} has an invalid ${s}: it should be a ${p.cyan(t)} instead`;d(!1,u)}function Lt(e,t){const n=e.configValues[t];return!n||n.value===null?null:n}const Bt=["Page"],Dt=Object.freeze(Object.defineProperty({__proto__:null,exportNames:Bt},Symbol.toStringTag,{value:"Module"})),Wt=["Page"],Vt=Object.freeze(Object.defineProperty({__proto__:null,exportNames:Wt},Symbol.toStringTag,{value:"Module"})),zt=["Page"],Ut=Object.freeze(Object.defineProperty({__proto__:null,exportNames:zt},Symbol.toStringTag,{value:"Module"})),Mt=["Page"],Gt=Object.freeze(Object.defineProperty({__proto__:null,exportNames:Mt},Symbol.toStringTag,{value:"Module"})),Kt=["documentProps","Page"],Yt=Object.freeze(Object.defineProperty({__proto__:null,exportNames:Kt},Symbol.toStringTag,{value:"Module"})),Jt=["Page"],qt=Object.freeze(Object.defineProperty({__proto__:null,exportNames:Jt},Symbol.toStringTag,{value:"Module"})),Qt=["render","prerender"],Xt=Object.freeze(Object.defineProperty({__proto__:null,exportNames:Qt},Symbol.toStringTag,{value:"Module"})),Zt=["render","prerender"],en=Object.freeze(Object.defineProperty({__proto__:null,exportNames:Zt},Symbol.toStringTag,{value:"Module"})),tn=["passToClient","prerender","render"],nn=Object.freeze(Object.defineProperty({__proto__:null,exportNames:tn},Symbol.toStringTag,{value:"Module"})),rn=["passToClient","render"],on=Object.freeze(Object.defineProperty({__proto__:null,exportNames:rn},Symbol.toStringTag,{value:"Module"})),sn="/blog/@pageNumber",an=Object.freeze(Object.defineProperty({__proto__:null,default:sn},Symbol.toStringTag,{value:"Module"})),ln="/blog/@date/@slug",un=Object.freeze(Object.defineProperty({__proto__:null,default:ln},Symbol.toStringTag,{value:"Module"})),cn="/presentations/view/@presentation",fn=Object.freeze(Object.defineProperty({__proto__:null,default:cn},Symbol.toStringTag,{value:"Module"})),dn=["render"],gn=Object.freeze(Object.defineProperty({__proto__:null,exportNames:dn},Symbol.toStringTag,{value:"Module"})),pn=["render"],hn=Object.freeze(Object.defineProperty({__proto__:null,exportNames:pn},Symbol.toStringTag,{value:"Module"})),ge={},De={},mn={},Z={},yn=[],We={},_n=!0,bn=[],vn={configValuesImported:[]},Pn=Object.assign({"/pages/blog/index.page.tsx":()=>k(()=>import("./pages_blog_index.page.856d8b6d.js"),["assets/entries/pages_blog_index.page.856d8b6d.js","assets/chunks/chunk-529f355d.js","assets/chunks/chunk-41acc436.js","assets/chunks/chunk-a9f9b8c5.js","assets/chunks/chunk-09a53a4d.js","assets/static/index.page.5374bfb3.css"]),"/pages/blog/view.page.tsx":()=>k(()=>import("./pages_blog_view.page.c5b04fc7.js"),["assets/entries/pages_blog_view.page.c5b04fc7.js","assets/chunks/chunk-529f355d.js","assets/chunks/chunk-41acc436.js","assets/chunks/chunk-a9f9b8c5.js","assets/static/view.page.086f470c.css"]),"/pages/index.page.tsx":()=>k(()=>import("./pages_index.page.d2f6f8f5.js"),["assets/entries/pages_index.page.d2f6f8f5.js","assets/chunks/chunk-529f355d.js","assets/static/index.page.e3b0c442.css"]),"/pages/presentations/index.page.tsx":()=>k(()=>import("./pages_presentations_index.page.4ff8d3d9.js"),["assets/entries/pages_presentations_index.page.4ff8d3d9.js","assets/chunks/chunk-529f355d.js","assets/chunks/chunk-980425a9.js","assets/static/view-presentation.a3ce833b.css","assets/chunks/chunk-09a53a4d.js","assets/static/index.page.41f3b2e1.css"]),"/pages/presentations/view.page.tsx":()=>k(()=>import("./pages_presentations_view.page.72b9dfec.js"),["assets/entries/pages_presentations_view.page.72b9dfec.js","assets/chunks/chunk-529f355d.js","assets/chunks/chunk-101896b7.js","assets/chunks/chunk-980425a9.js","assets/static/view-presentation.a3ce833b.css","assets/chunks/chunk-a9f9b8c5.js"]),"/renderer/_error.page.tsx":()=>k(()=>import("./renderer_error.page.78d66a6e.js"),["assets/entries/renderer_error.page.78d66a6e.js","assets/chunks/chunk-529f355d.js"])}),Sn={...Pn};ge[".page"]=Sn;const wn=Object.assign({"/pages/blog/index.page.tsx":Dt,"/pages/blog/view.page.tsx":Vt,"/pages/index.page.tsx":Ut,"/pages/presentations/index.page.tsx":Gt,"/pages/presentations/view.page.tsx":Yt,"/renderer/_error.page.tsx":qt}),Rn={...wn};Z[".page"]=Rn;const On=Object.assign({"/pages/blog/index.page.server.ts":Xt,"/pages/blog/view.page.server.ts":en,"/pages/presentations/view.page.server.tsx":nn,"/renderer/_default.page.server.tsx":on}),Cn={...On};Z[".page.server"]=Cn;const xn=Object.assign({"/pages/blog/index.page.route.ts":an,"/pages/blog/view.page.route.ts":un,"/pages/presentations/view.page.route.ts":fn}),kn={...xn};De[".page.route"]=kn;const Tn=Object.assign({"/pages/presentations/view.page.client.tsx":()=>k(()=>import("./pages_presentations_view.page.client.b4d09ad9.js"),["assets/entries/pages_presentations_view.page.client.b4d09ad9.js","assets/chunks/chunk-529f355d.js","assets/chunks/chunk-9af66d49.js","assets/chunks/chunk-a9f9b8c5.js"]),"/renderer/_default.page.client.tsx":()=>k(()=>import("./renderer_default.page.client.60213cad.js"),["assets/entries/renderer_default.page.client.60213cad.js","assets/chunks/chunk-529f355d.js","assets/chunks/chunk-9af66d49.js","assets/chunks/chunk-a9f9b8c5.js","assets/entries/renderer_default.page.server.extractAssets.fa75b1ae.js","assets/static/default.page.server.49cecab0.css","assets/chunks/chunk-41acc436.js"])}),En={...Tn};ge[".page.client"]=En;const $n=Object.assign({"/pages/presentations/view.page.client.tsx":gn,"/renderer/_default.page.client.tsx":hn}),Fn={...$n};Z[".page.client"]=Fn;const In=Object.assign({"/pages/blog/index.page.server.ts":()=>k(()=>import("./pages_blog_index.page.server.extractAssets.b8afb6e4.js").then(e=>e.i),[]),"/pages/blog/view.page.server.ts":()=>k(()=>import("./pages_blog_view.page.server.extractAssets.4ed993c7.js"),[]),"/pages/presentations/view.page.server.tsx":()=>k(()=>import("./pages_presentations_view.page.server.extractAssets.4ed993c7.js"),[]),"/renderer/_default.page.server.tsx":()=>k(()=>import("./renderer_default.page.server.extractAssets.fa75b1ae.js"),["assets/entries/renderer_default.page.server.extractAssets.fa75b1ae.js","assets/static/default.page.server.49cecab0.css"])}),An={...In};We[".page.server"]=An;const jn=Object.freeze(Object.defineProperty({__proto__:null,isGeneratedFile:_n,neverLoaded:We,pageConfigGlobalSerialized:vn,pageConfigsSerialized:bn,pageFilesEager:De,pageFilesExportNamesEager:Z,pageFilesExportNamesLazy:mn,pageFilesLazy:ge,pageFilesList:yn},Symbol.toStringTag,{value:"Module"}));yt(jn);function Nn(){_t(),U()}function Hn(){const e=!!window.__REACT_DEVTOOLS_GLOBAL_HOOK__?.renderers?.size,t=!!window.__REACT_DEVTOOLS_GLOBAL_HOOK__?.rendererInterfaces?.size,n=!!window.__vite_plugin_react_preamble_installed__;return e||t||n}function ve(e,t){return!E(e)||!E(t)?!1:e.message===t.message}function J(e){window.location.href=e}function Ln(e){return new Promise(t=>setTimeout(t,e))}function Bn(e,t){let n=!1;return()=>{n||(n=!0,setTimeout(()=>{n=!1,e()},t))}}function Ve(e){window.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&e()})}function Dn(e){window.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&e()})}function Wn(e){return!e.startsWith("/")&&!e.startsWith(".")&&!e.startsWith("?")&&e!==""}Nn();const se=I("history.ts",{});function ze(){let e=window.history.state;e||(e={});let t=!1;"timestamp"in e||(t=!0,e.timestamp=me()),"scrollPosition"in e||(t=!0,e.scrollPosition=he()),"triggedBy"in e||(e.triggedBy="browser"),Ue(e),t&&ye(e)}function pe(){const e=window.history.state||{};return Ue(e),e}function he(){return{x:window.scrollX,y:window.scrollY}}function me(){return new Date().getTime()}function Pe(){const e=he(),t=pe();ye({...t,scrollPosition:e})}function Vn(e,t){if(t)ye(pe(),e);else{const n=me();zn({timestamp:n,scrollPosition:null,triggedBy:"vike"},e)}}function Ue(e){if(a(E(e)),"timestamp"in e){const{timestamp:t}=e;a(typeof t=="number")}if("scrollPosition"in e){const{scrollPosition:t}=e;t!==null&&a(v(t,"x","number")&&v(t,"y","number"))}}function ye(e,t){window.history.replaceState(e,"",t??null)}function zn(e,t){Me(e,"",t)}function Un(){se.pushStateOriginal=se.pushStateOriginal??window.history.pushState,window.history.pushState=(e={},...t)=>{d(e==null||E(e),"history.pushState(state) argument state must be an object");const n={scrollPosition:he(),timestamp:me(),...e,triggedBy:"user"};return Me(n,...t)}}function Me(...e){se.pushStateOriginal.apply(history,e)}async function Mn(e,t){const r=Ie(e,t).filter(i=>i.fileType===".page.server");return await Promise.all(r.map(async i=>{i.exportNames||(a(i.loadExportNames,t),await i.loadExportNames())})),{hasOnBeforeRenderServerSideOnlyHook:r.some(({exportNames:i})=>(a(i),i.includes("onBeforeRender")))}}const Se=["urlPathname","urlParsed"],Gn=["Page","pageExports","exports"];function Kn(e){[...Gn,...Se].forEach(n=>{n in e&&(Se.includes(n)?(a(n.startsWith("url")),O(!1,`pageContext.${n} is already available in the browser when using Client Routing; adding '${n}' to passToClient has no effect`,{onlyOnce:!0})):O(!1,`pageContext.${n} is a built-in that cannot be overriden; adding '${n}' to passToClient has no effect`,{onlyOnce:!0}),delete e[n])})}const Yn="/";function Jn(e,t,n){const{pathnameOriginal:r,searchOriginal:o,hashOriginal:i}=Q(e,Yn);e.startsWith("/")&&a(e===`${r}${o||""}${i||""}`,{url:e});const s=r.endsWith("/");let l;return n&&r!=="/"?(s?l=D(r,0,-1):l=r,a(!l.endsWith("/"),{url:e}),a(l!=="")):l=r+(s?"":"/")+"index",a(l),l=l+t,`${l}${o||""}${i||""}`}const qn=".pageContext.json",Qn=!1;function Xn(e){return Jn(e,qn,Qn)}function Ge(e,{hookName:t,hookFilePath:n}){if(e==null)return;a(!t.endsWith(")"));const r=`The ${p.cyan("pageContext")} object provided by the ${t}() hook defined by ${n}`;d(E(e),`${r} should be an object (but it's ${p.cyan(`typeof pageContext === ${JSON.stringify(typeof e)}`)} instead)`),d(!("_objectCreatedByVike"in e),`${r} shouldn't be the whole ${p.cyan("pageContext")} object, see https://vike.dev/pageContext-manipulation#do-not-return-entire-pagecontext`),O(!("_pageId"in e),`${r} sets ${p.cyan("pageContext._pageId")} which means that Vike's routing is overriden. This is an experimental feature: make sure to contact a vike maintainer before using this.`,{onlyOnce:!0}),d(!("is404"in e),`${r} sets ${p.cyan("pageContext.is404")} which is forbidden, use ${p.cyan("throw render()")} instead, see https://vike.dev/render`)}function Zn(e,t,n){a(!n.endsWith(" "));const r=[],o=Object.keys(e);for(const i of o)t.includes(i)||r.push(i);d(r.length===0,[n,"returned an object with following unknown keys:",be(r)+".","Only following keys are allowed:",be(t)+"."].join(" "))}function er(e,t){if(e==null)return;const n=`The onBeforeRender() hook defined by ${t}`;d($(e),`${n} should return a plain JavaScript object, ${p.cyan("undefined")}, or ${p.cyan("null")}`),Zn(e,["pageContext"],n),e.pageContext&&Ge(e.pageContext,{hookName:"onBeforeRender",hookFilePath:t})}function tr(e,t){if(!$(e))return!1;for(const n of Object.keys(e))if(!t.includes(n))return!1;return!0}function nr(e){return typeof e=="object"&&e!==null&&Object.values(e).every(t=>typeof t=="string")}function rr(e,t,n=r=>r){if(a(e.length>0),e.length===1)return n(e[0]);const r=e.slice(0,e.length-1),o=e[e.length-1];return r.map(n).join(", ")+` ${t} `+n(o)}X()&&U();async function or(e,t){let n;if(e._pageFilesAll.length>0?(a(e._pageConfigs.length===0),n=ir(e._pageId,e._pageFilesAll)):n=W(e,"guard"),!n)return;const r=n.hookFn;let o=e;const i=t(e);i&&(o=i);const s=await H(()=>r(o),n);d(s===void 0,`The guard() hook of ${n.hookFilePath} returns a value, but guard() doesn't accept any return value`)}function ir(e,t){const n=t.find(u=>u.pageId===e&&u.fileType===".page.route");if(!n)return null;const{filePath:r,fileExports:o}=n;a(o);const i=o.guard;if(!i)return null;const s=r,l=Ae("guard");return d(ce(i),`guard() defined by ${s} should be a function`),{hookFn:i,hookName:"guard",hookFilePath:s,hookTimeout:l}}function sr(e){const t=new Error("AbortRender");return h(t,{_pageContextAbort:e,[Ke]:!0}),t}const Ke="_isAbortError";function we(e){return typeof e=="object"&&e!==null&&Ke in e}function ar(e){return e._urlRewrite||e._urlRedirect||e.abortStatusCode?(a(v(e,"_abortCall","string")),!0):!1}function lr(e,t,n){if(t)return;const r=n._urlRewrite??n.urlOriginal;a(r);const o=e._pageContextAbort._abortCall;a(o);const i=bt(e);let s="";i&&(s=` by ${p.cyan(`${i.hookName}()`)} hook defined at ${i.hookFilePath}`),je(!1,`${p.cyan(o)} thrown${s} while rendering ${p.cyan(r)}`,{onlyOnce:!1})}function ur(e){cr(e);const t={_urlRewrite:null};return e.forEach(n=>{Object.assign(t,n)}),t}function cr(e){const t=[];e.forEach(n=>{const r=n._urlRewrite;{const o=t.indexOf(r);if(o!==-1){const i=[...t.slice(o),r].map(s=>`render('${s}')`).join(" => ");d(!1,`Infinite loop of render() calls: ${i}`)}}t.push(r)})}function fr(e,t){const n=[e>0&&p.cyan("throw render('/some-url')"),t>0&&p.cyan("throw redirect('/some-url')")].filter(Boolean).join(" and ");d(e+t<=7,`Maximum chain length of 7 ${n} exceeded. Did you define an infinite loop of ${n}?`)}const dr="_pageContextInitIsPassedToClient",Ye="_isServerSideError",Je=I("router/getPageContext.ts",{});function gr(){const e=vt();return Xe(e),h(e,{_hasPageContextFromServer:!0}),e}async function pr(e){const t={isHydration:!0,_hasPageContextFromClient:!1,_hasPageContextFromServer:!0};for(const n of["data","onBeforeRender"]){const r={...e,...t};if(Qe(n,r)){const o=await qe(n,r);Object.assign(t,o)}}return t}async function Re(e,t){const n={isHydration:!1,_hasPageContextFromClient:!1};let r=!1;if(!t&&await mr({...e,...n})){const o=await yr(e);if("is404ServerSideRouted"in o)return{is404ServerSideRouted:!0};const{pageContextFromServer:i}=o;r=!0,a(!(Ye in i)),a(!("serverSideError"in i)),h(n,i)}for(const o of["guard","data","onBeforeRender"]){const i={_hasPageContextFromServer:r,...e,...n};if(o==="guard")!t&&!r&&await or(i,s=>Ne(s,!0));else if(a(o==="data"||o==="onBeforeRender"),Qe(o,i)||!r){const s=await qe(o,i);h(n,s)}else a(r)}return h(n,{_hasPageContextFromServer:r}),{pageContextFromHooks:n}}async function qe(e,t){const n=W(t,e);if(!n)return null;const r=Ne(t,!0),o=await H(()=>n.hookFn(r),n),i={};if(e==="onBeforeRender"){er(o,n.hookFilePath);const s=o?.pageContext;s&&(h(i,{_hasPageContextFromClient:!0}),h(i,s))}else{a(e==="data");const s={data:o};o&&h(i,{_hasPageContextFromClient:!0}),h(i,s)}return i}function hr(e){e[dr]&&(Je.pageContextInitIsPassedToClient=!0)}async function mr(e){return!!Je.pageContextInitIsPassedToClient||await Oe("data",e)||await Oe("onBeforeRender",e)}async function Oe(e,t){if(t._pageConfigs.length>0){const n=He(t._pageId,t._pageConfigs),r=L(n,`${e}Env`)?.value??{};return a(E(r)),!!r.server&&!r.client}else{if(e==="data")return!1;a(e==="onBeforeRender");const{hasOnBeforeRenderServerSideOnlyHook:n}=await Mn(t._pageFilesAll,t._pageId);return n}}function Qe(e,t){if(t._pageConfigs.length>0){const n=He(t._pageId,t._pageConfigs),r=L(n,`${e}Env`)?.value??{};return a(E(r)),!!r.client&&!r.server}else return!1}async function yr(e){const t=Xn(e._urlRewrite??e.urlOriginal),n=await fetch(t);{const i=n.headers.get("content-type"),s="application/json",l=i&&i.includes(s);if(!l&&n.status===404)return J(e.urlOriginal),{is404ServerSideRouted:!0};d(l,`Wrong Content-Type for ${t}: it should be ${s} but it's ${i} instead. Make sure to properly use pageContext.httpResponse.headers, see https://vike.dev/renderPage`)}const r=await n.text(),o=Pt(r);if(a(E(o)),ar(o))throw sr(o);if("serverSideError"in o||Ye in o)throw St("The pageContext object couldn't be fetched from the server as an error occurred on the server-side. Check your server logs.");return a(v(o,"_pageId","string")),Xe(o),{pageContextFromServer:o}}function Xe(e){hr(e),Kn(e)}function Ze(e,t=!0){a(e.urlOriginal),"urlPathname"in e&&(a(typeof e.urlPathname=="string"),a(ne(e,"urlPathname"))),"urlParsed"in e&&a(ne(e,"urlParsed")),"url"in e&&a(ne(e,"url")),Object.defineProperty(e,"urlPathname",{get:tt,enumerable:t,configurable:!0}),Object.defineProperty(e,"url",{get:_r,enumerable:!1,configurable:!0}),Object.defineProperty(e,"urlParsed",{get:br,enumerable:t,configurable:!0})}function et(e){let t=e._urlHandler;t||(t=o=>o);let n=e.urlLogical??e._urlRewrite??e.urlOriginal;n=t(n);const r=e._baseServer;return a(n&&typeof n=="string"),a(r.startsWith("/")),Q(n,r)}function tt(){const{pathname:e}=et(this),t=e;return a(t.startsWith("/")),t}function _r(){return O(!1,"`pageContext.url` is outdated. Use `pageContext.urlPathname`, `pageContext.urlParsed`, or `pageContext.urlOriginal` instead. (See https://vike.dev/migration/0.4.23 for more information.)",{onlyOnce:!0,showStackTrace:!0}),tt.call(this)}function br(){const e=et(this),{origin:t,pathname:n,pathnameOriginal:r,search:o,searchAll:i,searchOriginal:s,hash:l,hashOriginal:u}=e,g=X(),b=R=>{O(g,`pageContext.urlParsed.${R} isn't available on the server-side (HTTP requests don't include the URL hash by design)`,{onlyOnce:!0,showStackTrace:!0})},c={origin:t,pathname:n,pathnameOriginal:r,search:o,searchAll:i,searchOriginal:s,get hash(){return b("hash"),l},get hashOriginal(){return b("hashOriginal"),u},get hashString(){return O(!1,"pageContext.urlParsed.hashString has been renamed to pageContext.urlParsed.hashOriginal",{onlyOnce:!0,showStackTrace:!0}),b("hashString"),u},get searchString(){return O(!1,"pageContext.urlParsed.searchString has been renamed to pageContext.urlParsed.searchOriginal",{onlyOnce:!0,showStackTrace:!0}),s}};return M(c,"hashString"),M(c,"searchString"),g||(M(c,"hash"),M(c,"hashOriginal")),c}function M(e,t){const n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(e,t,{...n,enumerable:!1})}function vr(e){a(typeof e.urlOriginal=="string"),a(typeof e.urlPathname=="string"),a($(e.urlParsed)),a(e.urlPathname===e.urlParsed.pathname)}function Pr(e,t){const r=t.filter(({filesystemRoot:i})=>e.startsWith(i)).sort(Y(({filesystemRoot:i})=>i.length))[0];let o;if(r){const{filesystemRoot:i,urlRoot:s}=r,l={pageId:e,filesystemRoot:i,urlRoot:s};a(s.startsWith("/")&&e.startsWith("/")&&i.startsWith("/"),l),a(e.startsWith(i),l),i!=="/"?(a(!i.endsWith("/"),l),o=D(e,i.length,0)):o=e,a(o.startsWith("/"),l),o=s+(s.endsWith("/")?"":"/")+D(o,1,0)}else o=e;return a(o.startsWith("/")),o=o.split("/").filter(i=>i!=="pages"&&i!=="src"&&i!=="index").join("/"),a(!o.includes(".page.")),a(!o.endsWith(".")),o.endsWith("/index")&&(o=D(o,0,-6)),o===""&&(o="/"),a(o.startsWith("/")),a(!o.endsWith("/")||o==="/"),o}async function Sr(e,t,n){vr(t);let r=e(t);if(nt(r,`The Route Function ${n}`),r=await r,r===!1)return null;if(r===!0&&(r={}),d($(r),`The Route Function ${n} should return a boolean or a plain JavaScript object (but it's ${p.cyan(`typeof result === ${JSON.stringify(typeof r)}`)} instead)`),"match"in r){const{match:s}=r;if(d(typeof s=="boolean",`The ${p.cyan("match")} value returned by the Route Function ${n} should be a boolean.`),!s)return null}let o=null;"precedence"in r&&(o=r.precedence,d(typeof o=="number",`The ${p.cyan("precedence")} value returned by the Route Function ${n} should be a number.`)),rt(r,`The ${p.cyan("routeParams")} object returned by the Route Function ${n} should`);const i=r.routeParams||{};return d(!("pageContext"in r),`Providing ${p.cyan("pageContext")} in Route Functions is prohibited, see https://vike.dev/route-function#cannot-provide-pagecontext`),a($(i)),Object.keys(r).forEach(s=>{d(s==="match"||s==="routeParams"||s==="precedence",`The Route Function ${n} returned an object with an unknown property ${p.cyan(s)} (the known properties are ${p.cyan("match")}, ${p.cyan("routeParams")}, and ${p.cyan("precedence")})`)}),{precedence:o,routeParams:i}}function nt(e,t){O(!At(e),`${t} returned a promise, but asynchronous routing is deprecated and will be removed in the next major release, see https://vike.dev/route-function#async`,{onlyOnce:!0})}function Ce(){const e=p.cyan("iKnowThePerformanceRisksOfAsyncRouteFunctions");O(!1,`${e} is deprecated and will be removed in the next major release`,{onlyOnce:!0})}function rt(e,t){a(t.endsWith(" should")),v(e,"routeParams")&&(a(t.endsWith(" should")),d($(e.routeParams),`${t} be a plain JavaScript object.`),d(nr(e.routeParams),`${t} only hold string values.`))}async function wr(e,t,n,r){await Promise.all(e.filter(l=>l.fileType===".page.route").map(l=>l.loadFile?.()));const{onBeforeRouteHook:o,filesystemRoots:i}=Or(e,t,n);return{pageRoutes:Rr(i,e,t,r),onBeforeRouteHook:o}}function Rr(e,t,n,r){const o=[];if(n.length>0){a(e===null);const i=!0;n.filter(s=>!s.isErrorPage).forEach(s=>{const l=s.pageId;let u=null;{const g="route",b=L(s,g);if(b){const c=b.value,R=wt(b.definedAt,g);typeof c=="string"?u={pageId:l,comesFromV1PageConfig:i,routeString:c,routeDefinedAt:R,routeType:"STRING"}:(a(ce(c)),L(s,"iKnowThePerformanceRisksOfAsyncRouteFunctions","boolean")&&Ce(),u={pageId:l,comesFromV1PageConfig:i,routeFunction:c,routeDefinedAt:R,routeType:"FUNCTION"})}}if(!u){const{routeFilesystem:g}=s;a(g);const{routeString:b,definedBy:c}=g;a(g.routeString.startsWith("/")),u={pageId:l,routeFilesystemDefinedBy:c,comesFromV1PageConfig:i,routeString:b,routeDefinedAt:null,routeType:"FILESYSTEM"}}a(u),o.push(u)})}if(n.length===0){a(e);const i=!1;r.filter(s=>!Rt(s)).forEach(s=>{const l=t.find(u=>u.pageId===s&&u.fileType===".page.route");if(!l||!("default"in l.fileExports)){const u=Pr(s,e);a(u.startsWith("/")),a(!u.endsWith("/")||u==="/"),o.push({pageId:s,comesFromV1PageConfig:i,routeString:u,routeDefinedAt:null,routeFilesystemDefinedBy:`${s}.page.*`,routeType:"FILESYSTEM"})}else{const{filePath:u,fileExports:g}=l;if(a(g.default),v(g,"default","string")){const b=g.default;d(b.startsWith("/"),`A Route String should start with a leading slash '/' but ${u} has \`export default '${b}'\`. Make sure to \`export default '/${b}'\` instead.`),o.push({pageId:s,comesFromV1PageConfig:i,routeString:b,routeDefinedAt:u,routeType:"STRING"});return}if(v(g,"default","function")){const b=g.default;"iKnowThePerformanceRisksOfAsyncRouteFunctions"in g&&Ce(),o.push({pageId:s,comesFromV1PageConfig:i,routeFunction:b,routeDefinedAt:u,routeType:"FUNCTION"});return}d(!1,`The default export of ${u} should be a string or a function.`)}})}return o}function Or(e,t,n){if(t.length>0)return{onBeforeRouteHook:Ot(n,"onBeforeRoute"),filesystemRoots:null};let r=null;const o=[];return e.filter(i=>i.fileType===".page.route"&&i.isDefaultPageFile).forEach(({filePath:i,fileExports:s})=>{if(a(s),"onBeforeRoute"in s){d(v(s,"onBeforeRoute","function"),`\`export { onBeforeRoute }\` of ${i} should be a function.`);const{onBeforeRoute:l}=s,u="onBeforeRoute";r={hookFilePath:i,hookFn:l,hookName:u,hookTimeout:Ae(u)}}"filesystemRoutingRoot"in s&&(d(v(s,"filesystemRoutingRoot","string"),`\`export { filesystemRoutingRoot }\` of ${i} should be a string.`),d(v(s,"filesystemRoutingRoot","string"),`\`export { filesystemRoutingRoot }\` of ${i} is \`'${s.filesystemRoutingRoot}'\` but it should start with a leading slash \`/\`.`),o.push({filesystemRoot:Cr(i),urlRoot:s.filesystemRoutingRoot}))}),{onBeforeRouteHook:r,filesystemRoots:o}}function Cr(e){a(e.startsWith("/")),a(!e.endsWith("/"));const t=e.split("/"),n=D(t,0,-1).join("/")||"/";return a(n.startsWith("/")),a(!n.endsWith("/")||n==="/"),n}function ot(){const e="/";return a(xr(e)),e}function xr(e){return e.startsWith("/")}const re=I("createPageContext.ts",{});async function it(e){re.pageFilesData||(re.pageFilesData=await Ct(!0));const{pageFilesAll:t,allPageIds:n,pageConfigs:r,pageConfigGlobal:o}=re.pageFilesData,{pageRoutes:i,onBeforeRouteHook:s}=await wr(t,r,o,n),l=ot();a(Le(l));const u={urlOriginal:e,_objectCreatedByVike:!0,_urlHandler:null,_urlRewrite:null,_baseServer:l,_pageFilesAll:t,_pageConfigs:r,_pageConfigGlobal:o,_allPageIds:n,_pageRoutes:i,_onBeforeRouteHook:s};return Ze(u),u}function st(e){const t=e.getAttribute("href");return!!(t===null||t===""||Wn(t)||Tr(e)||Er(t)||!$r(t)||!xt(t)||!kr(e))}function kr(e){if(Fr()){const n=e.getAttribute("data-vike-link");return n!==null&&n!=="false"}else return!0}function Tr(e){const t=e.getAttribute("target"),n=e.getAttribute("rel");return t==="_blank"||t==="_external"||n==="external"||e.hasAttribute("download")}function Er(e){if(e.startsWith("#"))return!0;const t=n=>n.split("#")[0];return!!(e.includes("#")&&t(e)===t(window.location.href))}function $r(e){const t=ot();a(Le(t));const{hasBaseServer:n}=Q(e,t);return n}function Fr(){return!!window._disableAutomaticLinkInterception}function Ir(e,t){let n=Ar(e,t);return{prefetchStaticAssets:n}}function Ar(e,t){{const n=jr(t);if(n!==null)return n}if("prefetchLinks"in e.exports&&d(!1,"`export { prefetchLinks }` is deprecated, use `export { prefetchStaticAssets }` instead."),"prefetchStaticAssets"in e.exports){const{prefetchStaticAssets:n}=e.exports;if(n===!1)return!1;if(n==="hover")return"hover";if(n==="viewport")return"viewport";const r="prefetchStaticAssets value should be false, 'hover', or 'viewport'";d($(n),r);const o=Object.keys(n);d(o.length===1&&o[0]==="when",r);const{when:i}=n;if(i==="HOVER"||i==="VIEWPORT"){const s=i.toLowerCase();return O(!1,`prefetchStaticAssets value \`{ when: '${i}' }\` is outdated: set prefetchStaticAssets to '${s}' instead`,{onlyOnce:!0}),s}d(!1,r)}return"hover"}function jr(e){const t=e.getAttribute("data-prefetch-static-assets"),n=e.getAttribute("data-prefetch");if(t===null&&n===null)return null;const r="The attribute data-prefetch is outdated, use data-prefetch-static-assets instead.";if(t){if(d(n===null,r),t==="hover"||t==="viewport")return t;if(t==="false")return!1;d(!1,`data-prefetch-static-assets has value "${t}" but it should instead be "false", "hover", or "viewport"`)}if(n){if(a(!t),O(!1,r,{onlyOnce:!0}),n==="true")return"viewport";if(n==="false")return"hover";d(!1,`data-prefetch has value "${n}" but it should instead be "true" or "false"`)}a(!1)}const at=new Map;function Nr(e){const t=lt(e);return at.has(t)}function Hr(e){const t=lt(e);at.set(t,!0)}function lt(e){return Q(e,"/").pathname}function V(e){return e.fileType===".css"?[]:e.exportNames?e.exportNames:(a(e.fileExports,e.filePath),Object.keys(e.fileExports))}function Lr({pageFilesClientSide:e,pageFilesServerSide:t,pageId:n}){return{isHtmlOnly:r(),isClientRouting:i()};function r(){return t.some(l=>l.pageId===n&&l.fileType===".page")?(o(),!1):!(!t.some(l=>l.pageId===n&&l.fileType===".page.server")||e.some(l=>l.pageId===n&&l.fileType===".page.client"&&V(l).includes("render")))}function o(){const s=e.some(l=>V(l).includes("render"));d(s,["No client-side `render()` hook found.","See https://vike.dev/render-modes for more information.",["Loaded client-side page files (none of them `export { render }`):",...e.map((l,u)=>` (${u+1}): ${l.filePath}`)].join(`
`)].join(" "))}function i(){return e.some(l=>V(l).includes("clientRouting"))}}function Br({pageFilesClientSide:e,pageFilesServerSide:t,isHtmlOnly:n,isClientRouting:r}){let o=[];const i=t.filter(l=>!e.includes(l)),s=[];if(s.push(...e.map(l=>({id:l.filePath,onlyAssets:!1,eagerlyImported:!1}))),s.push(...i.map(l=>({id:l.filePath,onlyAssets:!0,eagerlyImported:!1}))),n)o=e.map(l=>l.filePath);else{const l=Dr(r);s.push({id:l,onlyAssets:!1,eagerlyImported:!1}),o=[l]}return{clientEntries:o,clientDependencies:s}}function Dr(e){return e?"@@vike/dist/esm/client/client-routing-runtime/entry.js":"@@vike/dist/esm/client/server-routing-runtime/entry.js"}function Wr(e,t){let n=Be(e,t);const r=Ie(e,t),{isHtmlOnly:o,isClientRouting:i}=Lr({pageFilesClientSide:n,pageFilesServerSide:r,pageId:t});o&&(n=n.filter(u=>u.isEnv("CLIENT_ONLY")&&!V(u).includes("render")),n=zr(n));const{clientEntries:s,clientDependencies:l}=Br({pageFilesClientSide:n,pageFilesServerSide:r,isHtmlOnly:o,isClientRouting:i});return{isHtmlOnly:o,isClientRouting:i,clientEntries:s,clientDependencies:l,pageFilesClientSide:n,pageFilesServerSide:r}}async function Vr(e,t,{sharedPageFilesAlreadyLoaded:n}){const r=Be(e,t);await Promise.all(r.map(async o=>{a(o.isEnv("CLIENT_ONLY")||o.isEnv("CLIENT_AND_SERVER")),!(n&&o.isEnv("CLIENT_AND_SERVER"))&&await o.loadExportNames?.()}))}function zr(e){const t=[];for(const n of e)if(t.push(n),V(n).includes("overrideDefaultPages"))break;return t}function Ur(e,t,n){if(e){const r=L(e,"clientRouting","boolean")?.value??!1;return{isClientSideRenderable:L(e,"isClientSideRenderable","boolean")?.value??!1,isClientRouting:r}}else{const{isHtmlOnly:r,isClientRouting:o}=Wr(t,n);return{isClientSideRenderable:!r,isClientRouting:o}}}async function ut(e,t){await Vr(t._pageFilesAll,e,{sharedPageFilesAlreadyLoaded:!1});const n=kt(t._pageConfigs,e),{isClientSideRenderable:r,isClientRouting:o}=Ur(n,t._pageFilesAll,e);return r&&o}const ct="@",ae=":";function Mr(e,t="Invalid"){let n=`${t} Route String ${F(e)}`;d(e!=="",`${n} (empty string): set it to ${F("/")} instead`),d(["/","*"].includes(e[0]),`${n}: it should start with ${F("/")} or ${F("*")}`),d(!e.includes("**"),`${n}: set it to ${F(e.split("**").join("*"))} instead`)}function le(e,t){Mr(e);const n=ft(e),r=n.map(c=>c.param?"[^/]+":c.glob?c.isLastDir?"|/.*":".*":Nt(c.static)).map(c=>`(${c})`).join(""),o=new RegExp(`^${r}/?$`),i=t.match(o);if(!i)return null;const s={},[l,...u]=i;let g=0;const b=n.filter(c=>c.glob).length>1;return n.forEach((c,R)=>{let C=u[R];if(c.param&&(s[c.param]=C),c.glob){const A=`*${b?++g:""}`;c.isLastDir&&(C=C.slice(1)),s[A]=C}}),{routeParams:s}}function ft(e){const t=[],n=o=>{const i=t[t.length-1];i?.static?i.static+=o:t.push({static:o})},r=e.split("/");return r.forEach((o,i)=>{const s=i===0,l=i===r.length-1;Gr(o)?(O(!o.startsWith(ae),`Outdated Route String ${F(e)}, use ${F(e.split(ae).join(ct))} instead`,{onlyOnce:!0}),s||n("/"),t.push({param:o.slice(1)})):o==="*"&&l&&e!=="*"&&e!=="/*"?t.push({glob:!0,isLastDir:!0}):(s||n("/"),o.split("*").forEach((u,g)=>{g!==0&&t.push({glob:!0}),u!==""&&n(u)}))}),t}function G(e){const t=ft(e),n=l=>l?.split("/").filter(Boolean).length||0;let r=0;for(const l of t){if(!l.static)break;r+=n(l.static)}const o=t.map(l=>n(l.static)).reduce((l,u)=>l+u,0),i=t.filter(l=>l.param).length,s=t.filter(l=>l.glob).length;return{numberOfStaticPartsBeginning:r,numberOfStaticParts:o,numberOfParams:i,numberOfGlobs:s}}function Gr(e){return e.startsWith(ct)||e.startsWith(ae)}function xe(e){const n=le(e,e);return a(n),Object.keys(n.routeParams).length===0}function F(e){return X()?`'${e}'`:(e===""&&(e="''"),p.cyan(e))}function Kr(e){e.sort(Yr).sort(j(t=>t.routeType==="FUNCTION"&&!!t.precedence&&t.precedence<0)).sort(j(t=>t.routeType==="STRING"&&xe(t.routeString)===!1)).sort(j(t=>t.routeType==="FUNCTION"&&!t.precedence)).sort(j(t=>t.routeType==="STRING"&&xe(t.routeString)===!0)).sort(j(t=>t.routeType==="FILESYSTEM")).sort(j(t=>t.routeType==="FUNCTION"&&!!t.precedence&&t.precedence>0))}function Yr(e,t){{const n=e.precedence??0,r=t.precedence??0;if(n!==r)return n>r?-1:1}if(!t.routeString||!e.routeString)return 0;{const r=Y(o=>G(o).numberOfStaticPartsBeginning)(e.routeString,t.routeString);if(r!==0)return r}{const r=Y(o=>G(o).numberOfStaticParts)(e.routeString,t.routeString);if(r!==0)return r}{const r=Tt(o=>G(o).numberOfGlobs)(e.routeString,t.routeString);if(r!==0)return r}{const r=Y(o=>G(o).numberOfParams)(e.routeString,t.routeString);if(r!==0)return r}return 0}async function Jr(e){const t={};if(!e._onBeforeRouteHook)return null;const n=await qr(e._onBeforeRouteHook,e);return n&&(h(t,n),v(t,"_pageId","string")||v(t,"_pageId","null"))?(v(t,"routeParams")?a(v(t,"routeParams","object")):h(t,{routeParams:{}}),h(t,{_routingProvidedByOnBeforeRouteHook:!0,_debugRouteMatches:"CUSTOM_ROUTING"}),t):(h(t,{_routingProvidedByOnBeforeRouteHook:!1}),t)}async function qr(e,t){let n=e.hookFn(t);nt(n,`The onBeforeRoute() hook ${e.hookFilePath}`),n=await H(()=>n,e);const r=`The onBeforeRoute() hook defined by ${e.hookFilePath}`;if(d(n==null||tr(n,["pageContext"])&&v(n,"pageContext"),`${r} should return ${p.cyan("null")}, ${p.cyan("undefined")}, or a plain JavaScript object ${p.cyan("{ pageContext: { /* ... */ } }")}`),n==null)return null;if(d(v(n,"pageContext","object"),`${r} returned ${p.cyan("{ pageContext }")} but pageContext should be a plain JavaScript object.`),v(n.pageContext,"_pageId")&&!v(n.pageContext,"_pageId","null")){const s=`${r} returned ${p.cyan("{ pageContext: { _pageId } }")} but ${p.cyan("_pageId")} should be`;d(v(n.pageContext,"_pageId","string"),`${s} a string or null`),d(t._allPageIds.includes(n.pageContext._pageId),`${s} ${rr(t._allPageIds.map(l=>p.cyan(l)),"or")}`)}v(n.pageContext,"routeParams")&&rt(n.pageContext,`${r} returned ${p.cyan("{ pageContext: { routeParams } }")} but routeParams should`);const o=s=>`${r} returned ${p.cyan(`{ pageContext: { ${s} } }`)} which is deprecated. Return ${p.cyan("{ pageContext: { urlLogical } }")} instead.`;v(n.pageContext,"url")&&(O(!1,o("url"),{onlyOnce:!0}),n.pageContext.urlLogical=n.pageContext.url,delete n.pageContext.url),v(n.pageContext,"urlOriginal")&&(O(!1,o("urlOriginal"),{onlyOnce:!0}),n.pageContext.urlLogical=n.pageContext.urlOriginal,delete n.pageContext.urlOriginal),v(n.pageContext,"urlLogical")&&Et(n.pageContext.urlLogical,`${r} returned ${p.cyan("{ pageContext: { urlLogical } }")} but ${p.cyan("urlLogical")}`),Ge(n.pageContext,{hookFilePath:e.hookFilePath,hookName:"onBeforeRoute"});const i={};return h(i,n.pageContext),i}var K;function ke(...e){K||(K=globalThis.__brillout_debug_createDebugger?.("vike:routing")),K&&K(...e)}X()&&U();async function dt(e){ke("Pages routes:",e._pageRoutes),Ze(e);const t={},n=await Jr(e);if(n){if(n._routingProvidedByOnBeforeRouteHook)return a(n._pageId),n;h(t,n)}const r={};h(r,e),h(r,n);const o=r._allPageIds;a(o.length>=0),d(r._pageFilesAll.length>0||r._pageConfigs.length>0,"No *.page.js file found. You must create at least one *.page.js file."),d(o.length>0,"You must create at least one *.page.js file that isn't _default.page.*");const{urlPathname:i}=r;a(i.startsWith("/"));const s=[];await Promise.all(r._pageRoutes.map(async u=>{const{pageId:g,routeType:b}=u;if(u.routeType==="FILESYSTEM"){const{routeString:c}=u,R=le(c,i);if(R){const{routeParams:C}=R;s.push({pageId:g,routeParams:C,routeString:c,routeType:b})}return}if(u.routeType==="STRING"){const{routeString:c}=u,R=le(c,i);if(R){const{routeParams:C}=R;a(b==="STRING"),s.push({pageId:g,routeString:c,routeParams:C,routeType:b})}return}if(u.routeType==="FUNCTION"){const{routeFunction:c,routeDefinedAt:R}=u,C=await Sr(c,r,R);if(C){const{routeParams:A,precedence:B}=C;s.push({pageId:g,precedence:B,routeParams:A,routeType:b})}return}a(!1)})),Kr(s);const l=s[0]??null;if(ke(`Route matches for URL ${p.cyan(i)} (in precedence order):`,s),h(t,{_debugRouteMatches:s}),h(t,{_routeMatch:l}),!l)return h(t,{_pageId:null,routeParams:{}}),t;{const{routeParams:u}=l;a($(u)),h(t,{_pageId:l.pageId,routeParams:l.routeParams})}return t}U();const Te=I("prefetch.ts",{linkPrefetchHandlerAdded:new WeakMap});async function Qr(e,t){try{await ie(e,t._pageFilesAll,t._pageConfigs)}catch(n){if(fe(n))ue(n,!0);else throw n}}function Xr(e){Hr(e.urlPathname),[...document.getElementsByTagName("A")].forEach(n=>{if(Te.linkPrefetchHandlerAdded.has(n))return;Te.linkPrefetchHandlerAdded.set(n,!0);const r=n.getAttribute("href");if(st(n)||(a(r),Nr(r)))return;const{prefetchStaticAssets:o}=Ir(e,n);if(o&&(o==="hover"&&(n.addEventListener("mouseover",()=>{oe(r)}),n.addEventListener("touchstart",()=>{oe(r)},{passive:!0})),o==="viewport")){const i=new IntersectionObserver(s=>{s.forEach(l=>{l.isIntersecting&&(oe(r),i.disconnect())})});i.observe(n)}})}async function oe(e){const t=await it(e);let n;try{n=await dt(t)}catch{return}n?._pageId&&await ut(n._pageId,t)&&await Qr(n._pageId,t)}function gt(e){if(e==="preserve-scroll")return;let t;if(e==="scroll-to-top-or-hash"){const n=eo();if(n&&n!=="top"){const r=document.getElementById(n)||document.getElementsByName(n)[0];if(r){r.scrollIntoView();return}}t={x:0,y:0}}else a("x"in e&&"y"in e),t=e;Zr(t)}function Zr(e){const t=()=>window.scrollTo(e.x,e.y),n=()=>window.scrollX===e.x&&window.scrollY===e.y;n()||(t(),!n()&&requestAnimationFrame(()=>{t(),!n()&&setTimeout(async()=>{if(t(),n())return;const r=new Date().getTime();for(;;)if(await Ln(10),t(),n()||new Date().getTime()-r>100)return},0)}))}function eo(){let{hash:e}=window.location;return e===""?null:(a(e.startsWith("#")),e=e.slice(1),e)}function to(){window.addEventListener("scroll",Bn(Pe,Math.ceil(1e3/3)),{passive:!0}),Ve(Pe)}const N=I("onBrowserHistoryNavigation.ts",{previousState:q()});function no(){window.addEventListener("popstate",async()=>{const e=q(),t=e.historyState.scrollPosition||"scroll-to-top-or-hash",n=e.historyState.triggedBy==="user",r=e.urlWithoutHash===N.previousState.urlWithoutHash,o=!e.historyState.timestamp||!N.previousState.historyState.timestamp?null:e.historyState.timestamp<N.previousState.historyState.timestamp;N.previousState=e,r&&!n?window.history.state===null?(ze(),N.previousState=q()):gt(t):await z({scrollTarget:t,isBackwardNavigation:o,isUserLandPushStateNavigation:n})})}function q(){return{urlWithoutHash:de({withoutHash:!0}),historyState:pe()}}function ro(){N.previousState=q()}const pt=I("scrollRestoration.ts",{});function oo(){Ee(),Ve(Ee),Dn(()=>pt.initialRenderIsDone&&_e())}function io(){pt.initialRenderIsDone=!0}function _e(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual")}function Ee(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto")}const S=I("renderPageClientSide.ts",{renderCounter:0});async function z(e){const{scrollTarget:t,urlOriginal:n=de(),overwriteLastHistoryEntry:r=!1,isBackwardNavigation:o,pageContextsFromRewrite:i=[],redirectCount:s=0,isUserLandPushStateNavigation:l,isClientSideNavigation:u=!0}=e,{isRenderOutdated:g,setHydrationCanBeAborted:b,isHydrationRender:c}=ao();if(a(u===!c),fr(i.length,s),S.clientRoutingIsDisabled){J(n);return}await R();return;async function R(){const y=async f=>{await A({err:f})},m=await C();if(g())return;let _;if(c)_=gr();else{let f;try{f=await dt(m)}catch(P){await y(P);return}if(g())return;let w;if(!f._pageId)w=!1;else if(w=await ut(f._pageId,m),g())return;if(!w){J(n);return}a(v(f,"_pageId","string"));const x=f._pageId&&S.previousPageContext?._pageId&&f._pageId===S.previousPageContext._pageId;if(l&&x)return;_=f}a(!("urlOriginal"in _)),h(m,_);try{h(m,await ie(m._pageId,m._pageFilesAll,m._pageConfigs))}catch(f){if($e(f,m,c))return;await y(f);return}if(!g()&&(m.exports.hydrationCanBeAborted?b():O(!Hn(),"You seem to be using React; we recommend setting hydrationCanBeAborted to true, see https://vike.dev/hydrationCanBeAborted",{onlyOnce:!0}),!g())){if(!c&&(te(m,"onPageTransitionStart"),!S.isTransitioning)){S.isTransitioning=!0;const f=W(m,"onPageTransitionStart");if(f){const w=f,{hookFn:x}=w;try{await H(()=>x(m),w)}catch(P){await y(P);return}if(g())return}}if(c){a(v(m,"_hasPageContextFromServer","true"));let f;try{f=await pr(m)}catch(w){await y(w);return}if(g())return;a(!("urlOriginal"in f)),h(m,f),await B(m)}else{let f;try{f=await Re(m,!1)}catch(x){await y(x);return}if(g()||"is404ServerSideRouted"in f)return;const w=f.pageContextFromHooks;a(!("urlOriginal"in w)),h(m,w),await B(m)}}}async function C(){const y=await it(n);h(y,{isBackwardNavigation:o,isClientSideNavigation:u});{const m=ur(i);a(!("urlOriginal"in m)),h(y,m)}return y}async function A(y){const m=P=>{ve(P,y.err)||console.error(P)};if("err"in y){const{err:P}=y;a(P),we(P)||console.error(P)}const _=await C();if(g())return;if(y.pageContextError&&h(_,y.pageContextError),"err"in y){const{err:P}=y;if(a(!("errorWhileRendering"in _)),_.errorWhileRendering=P,we(P)){const ht=P;lr(P,!0,_);const T=ht._pageContextAbort;if(T._urlRewrite){await z({...e,scrollTarget:"scroll-to-top-or-hash",pageContextsFromRewrite:[...i,T]});return}if(T._urlRedirect){const ee=T._urlRedirect.url;if(ee.startsWith("http")){window.location.href=ee;return}else await z({...e,scrollTarget:"scroll-to-top-or-hash",urlOriginal:ee,overwriteLastHistoryEntry:!1,isBackwardNavigation:!1,redirectCount:s+1});return}a(T.abortStatusCode),a(!("urlOriginal"in T)),h(_,T),T.abortStatusCode===404&&h(_,{is404:!0})}else h(_,{is404:!1})}const f=Ft(_._pageFilesAll,_._pageConfigs);if(!f)throw new Error("No error page defined.");h(_,{_pageId:f});try{h(_,await ie(_._pageId,_._pageFilesAll,_._pageConfigs))}catch(P){if($e(P,_,c))return;m(P);return}if(g())return;let w;try{w=await Re(_,!0)}catch(P){m(P);return}if(g()||"is404ServerSideRouted"in w)return;const x=w.pageContextFromHooks;a(x),a(!("urlOriginal"in x)),h(_,x),await B(_,y)}async function B(y,m){const _=async f=>{m?ve(f,m.err)||console.error(f):await A({err:f})};if(!(S.renderPromise&&(await S.renderPromise,a(S.renderPromise===void 0),g()))){if(so(n,r),S.previousPageContext=y,a(S.renderPromise===void 0),S.renderPromise=(async()=>{try{await $t(y,!0)}catch(f){await _(f);return}Xr(y),S.renderPromise=void 0})(),await S.renderPromise,a(S.renderPromise===void 0),c){te(y,"onHydrationEnd");const f=W(y,"onHydrationEnd");if(f){const{hookFn:w}=f;try{await H(()=>w(y),f)}catch(x){if(await _(x),!m)return}if(g(!0))return}}if(!g(!0)){if(S.isTransitioning){S.isTransitioning=void 0,te(y,"onPageTransitionEnd");const f=W(y,"onPageTransitionEnd");if(f){const{hookFn:w}=f;try{await H(()=>w(y),f)}catch(x){if(await _(x),!m)return}if(g(!0))return}}gt(t),_e(),io()}}}}function so(e,t){de()!==e&&(_e(),Vn(e,t),ro())}function $e(e,t,n){if(!fe(e))return!1;if(n)throw ue(e,!1),e;return ue(e,!0),J(t.urlOriginal),!0}function ue(e,t){a(fe(e)),S.clientRoutingIsDisabled=!0,t&&console.log(e),je(!1,["Failed to fetch static asset.","This usually happens when a new frontend is deployed.","Falling back to Server Routing.","(The next page navigation will use Server Routing instead of Client Routing.)"].filter(Boolean).join(" "),{onlyOnce:!0})}function ao(){const e=++S.renderCounter;a(e>=1);let t=!1;return{isRenderOutdated:o=>e===1&&!t&&!o?!1:e!==S.renderCounter,setHydrationCanBeAborted:()=>{t=!0},isHydrationRender:e===1}}function Fe(){return S.renderCounter}function lo(){document.addEventListener("click",uo)}async function uo(e){if(!co(e))return;const t=fo(e.target);if(!t)return;const n=t.getAttribute("href");if(st(t))return;a(n),e.preventDefault();const o=![null,"false"].includes(t.getAttribute("keep-scroll-position"))?"preserve-scroll":"scroll-to-top-or-hash";await z({scrollTarget:o,urlOriginal:n,isBackwardNavigation:!1})}function co(e){return e.button===0&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey}function fo(e){for(;e.tagName!=="A";){const{parentNode:t}=e;if(!t)return null;e=t}return e}async function go(){oo(),ze(),to(),Un(),a(Fe()===0);const e=z({scrollTarget:"preserve-scroll",isBackwardNavigation:null,isClientSideNavigation:!1});a(Fe()===1),lo(),no(),await e}U();const po=!0;It(po);go();
